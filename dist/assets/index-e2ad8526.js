import{s as h,j as e,z as x,a as j}from"./index-c6a04bd1.js";import{r as o}from"./echarts-41e97f80.js";import{A as C,a as g,b as p,c as A,d as k,M as B,T as E,F as $,B as f,e as S}from"./index-de8861e9.js";import"./react-router-dom-6f0409ae.js";import"./zrender-e9104294.js";const T=h(x)`
  font-weight: 600;
`;function w({category:a}){var s,c;if(!a)return;const n=((s=a.articles)==null?void 0:s.length)||0;return e.jsxs(C,{children:[e.jsx(T,{to:`/categories/${a.id}`,children:a.name}),e.jsxs(g,{children:[n," ",n===1?"članak":[2,3,4].includes(n)?"članka":"članaka"]}),n!==0&&e.jsx(p,{children:e.jsx(A,{children:(c=a.articles)==null?void 0:c.map(t=>e.jsx(k,{to:`/articles/${t.id}`,children:t.title},t.id))})})]})}function N(){const[a,n]=o.useState([]),[s,c]=o.useState("name"),[t,u]=o.useState("asc");return o.useEffect(()=>{async function i(){const r=await j.get("/api/categories/all");n(r.data)}i()},[]),o.useEffect(()=>{function i(r,l){const d=r.articles.length||0,m=l.articles.length||0;return s=="name"?t==="desc"?l.name.localeCompare(r.name):r.name.localeCompare(l.name):t==="asc"?d-m:m-d}n(r=>[...r].sort(i))},[s,t]),a?e.jsxs(B,{children:[e.jsx(E,{children:"Kategorije"}),e.jsxs($,{children:[e.jsxs(f,{"data-testid":"name",$selected:s==="name",onClick:()=>{c("name"),u(t==="asc"?"desc":"asc")},children:["Abecedno ",s==="name"?t==="asc"?"⇡":"⇣":""]}),e.jsxs(f,{$selected:s==="count",onClick:()=>{c("count"),u(t==="asc"?"desc":"asc")},children:["Broj članaka"," ",s==="count"?t==="asc"?"⇡":"⇣":""]})]}),e.jsx(S,{children:a.map(i=>e.jsx(w,{category:i},i.id))})]}):"Loading..."}export{N as default};
